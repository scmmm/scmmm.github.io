<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Digital VLSI Design-lecture 5 | scmmm's blog</title><meta name="keywords" content="DVD"><meta name="author" content="scmmm"><meta name="copyright" content="scmmm"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Timing Analysis 同步设计 大多数数字设计是同步的，并且使用顺序元件构建。 同步设计消除了竞争现象，并且更适合设计流水线，提高了吞吐量。 假设所有顺序元件都是边沿触发的，并使用D触发器作为寄存器。  那么出发它有三个关键的时序参数  tcqt_{cq}tcq​ 时钟到输出延迟，本质上是一个传播延迟。 tsetupt_{setup}tsetup​ 建立时间，即数据必须在时钟到来前到达。">
<meta property="og:type" content="article">
<meta property="og:title" content="Digital VLSI Design-lecture 5">
<meta property="og:url" content="http://example.com/2025/04/06/Digital-VLSI-Design-lecture-5/index.html">
<meta property="og:site_name" content="scmmm&#39;s blog">
<meta property="og:description" content="Timing Analysis 同步设计 大多数数字设计是同步的，并且使用顺序元件构建。 同步设计消除了竞争现象，并且更适合设计流水线，提高了吞吐量。 假设所有顺序元件都是边沿触发的，并使用D触发器作为寄存器。  那么出发它有三个关键的时序参数  tcqt_{cq}tcq​ 时钟到输出延迟，本质上是一个传播延迟。 tsetupt_{setup}tsetup​ 建立时间，即数据必须在时钟到来前到达。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg">
<meta property="article:published_time" content="2025-04-06T12:42:19.000Z">
<meta property="article:modified_time" content="2025-04-07T06:56:05.136Z">
<meta property="article:author" content="scmmm">
<meta property="article:tag" content="DVD">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg"><link rel="shortcut icon" href="https://s21.ax1x.com/2025/04/01/pEy34fO.md.png"><link rel="canonical" href="http://example.com/2025/04/06/Digital-VLSI-Design-lecture-5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?6d7b6ea6b248b725fe73617eef4646ed";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-04-07 14:56:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    })(window)</script><meta name="generator" content="Hexo 5.4.2"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://s21.ax1x.com/2025/04/01/pEy34fO.md.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">118</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">27</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://s2.ax1x.com/2019/07/29/e3IYDA.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">scmmm's blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Digital VLSI Design-lecture 5</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-04-06T12:42:19.000Z" title="Created 2025-04-06 20:42:19">2025-04-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-04-07T06:56:05.136Z" title="Updated 2025-04-07 14:56:05">2025-04-07</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Digital VLSI Design-lecture 5"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>Timing Analysis</p>
<h2 id="同步设计">同步设计</h2>
<p>大多数数字设计是同步的，并且使用顺序元件构建。</p>
<p>同步设计消除了竞争现象，并且更适合设计流水线，提高了吞吐量。</p>
<p>假设所有顺序元件都是边沿触发的，并使用D触发器作为寄存器。</p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vHht.png" alt="O0vHht.png"></p>
<p>那么出发它有三个关键的时序参数</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{cq}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 时钟到输出延迟，本质上是一个传播延迟。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>s</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>p</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{setup}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 建立时间，即数据必须在时钟到来前到达。</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>h</mi><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{hold}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 保持时间，即数据在时钟到来后必须保持稳定的时间。</li>
</ul>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vLtx.png" alt="O0vLtx.png"></p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vEjj.png" alt="O0vEjj.png"></p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vQWp.png" alt="O0vQWp.png"></p>
<h3 id="时序约束">时序约束</h3>
<ul>
<li>在同步逻辑中，需要思考两个重要参数：
<ul>
<li>最大延迟</li>
<li>最小延迟</li>
</ul>
</li>
</ul>
<p>其最大延迟不能过大，以至于数据信号没有足够的时间从一个寄存器传到下一个寄存器，在下一个时钟沿到来之前还未完成。最小延迟也不能过小，以至于在同一个时钟周期内就穿过了多个寄存器。</p>
<p>最大延迟违例是由于数据路径过长所导致的，包括寄存器的建立时间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>s</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>p</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{setup}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ，因此它通常被称为“建立路径（Setup Path）”。</p>
<p>最小延迟违例是由于数据路径过短，导致数据在保持时间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>h</mi><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{hold}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  到之前就发生了变化，因此它通常被称为“保持路径（Hold Path）”。</p>
<h3 id="建立最大约束">建立最大约束</h3>
<p>我们看一看一个时钟周期应该包含哪些内容？</p>
<ul>
<li>时钟上升沿之后，数据传播到 A 有一个延迟 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>q</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{cq}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>接下，必须在下一个时钟周期到来前，提前 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>s</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>p</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{setup}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 到达点 B</li>
</ul>
<p>我们看图来理解</p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vSgU.png" alt="O0vSgU.png"></p>
<p>对于右边图，我们这样看：</p>
<ul>
<li>蓝色路径为启动路径（Launch Path）：从第一个寄存器（R1）的时钟沿开始，数据经过组合逻辑。</li>
<li>红色路径为采样路径（Capture Path）：在第二个寄存器（R2）上采样数据。</li>
<li>绿色虚线为正时钟偏移（positive clock skew）：R2 的时钟比 R1 晚到。</li>
<li>同时，我们还需要留出一点余量（margin）作为安全事件</li>
</ul>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0v0sY.png" alt="O0v0sY.png"></p>
<p>那么，我们就能建立基本时钟公式</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>&gt;</mo><msub><mi>t</mi><mrow><mi>c</mi><mi>q</mi></mrow></msub><mo>+</mo><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>c</mi></mrow></msub><mo>+</mo><msub><mi>t</mi><mrow><mi>s</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>p</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T &gt; t_{cq} + t_{logic} + t_{setup}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> 为时钟周期。</p>
<p>加入时钟偏移和其他余量之后</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>+</mo><msub><mi>δ</mi><mrow><mi>s</mi><mi>k</mi><mi>e</mi><mi>w</mi></mrow></msub><mo>&gt;</mo><msub><mi>t</mi><mrow><mi>c</mi><mi>q</mi></mrow></msub><mo>+</mo><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>c</mi></mrow></msub><mo>+</mo><msub><mi>t</mi><mrow><mi>s</mi><mi>e</mi><mi>t</mi><mi>u</mi><mi>p</mi></mrow></msub><mo>+</mo><msub><mi>δ</mi><mrow><mi>m</mi><mi>a</mi><mi>r</mi><mi>g</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T + \delta_{skew} &gt; t_{cq} + t_{logic} + t_{setup} +\delta_{margin}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03785em;">δ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0379em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ma</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span></p>
<h3 id="建立最小约束">建立最小约束</h3>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vdov.png" alt="O0vdov.png"></p>
<p>根据上文，我们显然有</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>c</mi><mi>q</mi></mrow></msub><mo>+</mo><msub><mi>t</mi><mrow><mi>l</mi><mi>o</mi><mi>g</mi><mi>i</mi><mi>c</mi></mrow></msub><mo>&gt;</mo><msub><mi>t</mi><mrow><mi>h</mi><mi>o</mi><mi>l</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">t_{cq} + t_{logic} &gt; t_{hold}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9012em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7651em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vsrq.png" alt="O0vsrq.png"></p>
<p>同理，加上偏移和其他余量之后 $t_{cq} + t_{logic} - \delta_{margin}&gt; t_{hold} + \delta_{skew} $</p>
<h2 id="静态时序分析-sta">静态时序分析 STA</h2>
<p>STA 检查所有可能路径在最坏情况下的传播延迟（最大/最小）。</p>
<ul>
<li>它有以下优点
<ul>
<li>速度比基于时序的门级仿真快很多</li>
<li>穷尽式检查 —— 即：每一个（受约束的）时序路径都会被检查！</li>
<li>不需要生成输入激励向量（Vector） —— 不需要仿真输入激励。</li>
</ul>
</li>
<li>缺点：
<ul>
<li>不检查电路的实际功能是否正确（只关注时序）</li>
<li>必须定义时序约束/例外条件</li>
</ul>
</li>
<li>同时有许多限制
<ul>
<li>仅适用于同步设计（synchronous design）</li>
<li>不能分析组合逻辑反馈环（combinational feedback loops），如用基本逻辑门搭建的触发器</li>
<li>不能分析异步时序问题（asynchronous timing），如跨时钟域（clock domain crossing）</li>
<li>不会检查异步引脚上的毛刺效应（glitching），如组合逻辑驱动异步置位/复位（set/reset）引脚时的毛刺问题</li>
</ul>
</li>
</ul>
<h3 id="时序路径">时序路径</h3>
<p>一个时序路径是从起点（Startpoint）到终点（Endpoint）的一条信号传播路径。</p>
<ul>
<li>起点（Startpoint, SP）可以是
<ul>
<li>触发器的时钟引脚</li>
<li>输入端口，也称为主输入（Primary Inputs，PI）</li>
</ul>
</li>
<li>终点（Endpoint, EP）可以是
<ul>
<li>触发器的数据输入引脚（不包括时钟引脚）</li>
<li>输出端口，也称为主输出（Primary Outputs，PO）</li>
<li>存储器或硬核宏单元（Hard Macros）</li>
</ul>
</li>
</ul>
<p>时序路径有以下四种</p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vVGc.png" alt="O0vVGc.png"></p>
<h3 id="静态时序分析的目标">静态时序分析的目标</h3>
<ul>
<li>验证设计中所有路径是否满足最大延迟和最小延迟的约束：
<ul>
<li>从门级网表（Gate-Level Netlist）开始</li>
<li>每个逻辑门在标准单元库中都有时序模型（Timing Models）</li>
<li>STA 工具需要报告所有违反最大/最小延迟约束的路径</li>
</ul>
</li>
<li>但这就够了吗？
<ul>
<li>我们只知道了知道所有违反时序约束的路径</li>
<li>实际上，还希望知道所有路径的时序信息，并按照路径长短排序</li>
<li>并且还需要知道问题出在哪里以去修复</li>
</ul>
</li>
</ul>
<h3 id="一些基本假设">一些基本假设</h3>
<ul>
<li>我们的设计是同步的（synchronous），我们只讨论如何处理组合逻辑元件以及最大延迟约束</li>
<li>我们假设使用引脚到引脚延迟模型（pin-to-pin delay model），每个门电路从输入到输出有一个固定的延迟值</li>
<li>实际上门电路有许多因素影响，例如门类型，负载大小，波形形状，转换方向，具体的引脚位置，随机工艺偏差等</li>
<li>实际设计中，这些延迟信息都来自标准单元库的 .lib 文件</li>
</ul>
<h3 id="简单路径表示">简单路径表示</h3>
<p>假设在一个电路中，由两个与门串联，并且每个与门时间延迟是2，我们要将这个电路转化成一个图模型：</p>
<ul>
<li>SP 和 EP 转换成顶点，门也转换成一个顶点</li>
<li>每个门的输出为一条鞭，每个输入引脚为一条边，并对应延迟信息</li>
<li>最后加入源点 SRC 和汇点 SNK ，SRC 连接所有 SP, 所有 EP 连接 SNK</li>
</ul>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vY3r.png" alt="O0vY3r.png"></p>
<ul>
<li>如果我们去穷举所有路径，路径数量会呈指数级增长，计算量巨大。因此，我们使用基于节点的分析方法，它：
<ul>
<li>对于每一个节点，只找出所有路径最长延迟</li>
<li>定义节点的到达时间（Arrival Time, AT）为从源点（SRC）到当前节点的最长路径时间</li>
<li>定义节点的要求到达时间（Required Arrival Time, RAT）为信号最晚允许从该节点出发的时间</li>
</ul>
</li>
</ul>
<p>节点的 Slack 定义为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>k</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>=</mo><mi>R</mi><mi>A</mi><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo>−</mo><mi>A</mi><mi>T</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Slack(n)=RAT(n)-AT(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">Sl</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p>
<p>对于计算 AT 和 RAT 由于这是个 DAG ,我们直接使用拓扑排序 + DP 即可。</p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vliM.png" alt="O0vliM.png"></p>
<p>这幅图可以更生动说明 Slack 的含义。</p>
<h3 id="假路径">假路径</h3>
<p>我们计算的时候，已经假定图一定是联通的，但是结合上电路逻辑的话，就不一定联通，一些路径在拓扑上存在，但也永远不会激活，这种路径被称为假路径。</p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0v9tG.png" alt="O0v9tG.png"></p>
<h2 id="设计限制">设计限制</h2>
<h3 id="时序约束">时序约束</h3>
<p>STA 工具怎么知道我们想要的时钟周期是多少呢？</p>
<ul>
<li>它不知道，我们得告诉它，我们必须为设计定义约束</li>
<li>这通常是通过 SDC 语法（Synopsys Design Constraints） 来完成的，这是一种基于 Tcl 的扩展语法</li>
</ul>
<p>有三种主要的时序约束：时钟定义、建模芯片外环境、时序例外情况。</p>
<h3 id="集合">集合</h3>
<p>即使你会使用 TCL , EDA 工具还或使用另外一种的数据结构，称为 “集合” 。</p>
<p>集合和 TCL 列表类似，但是它的值是指针，必须使用专门函数 <code>foreach_in_collection</code> 遍历集合</p>
<p>这里不展开。</p>
<h3 id="设计对象">设计对象</h3>
<p>这几个术语都比较简单，直接用 ppt 内容</p>
<p><img src="https://ooo.0x0.ooo/2025/04/06/O0vj21.png" alt="O0vj21.png"></p>
<h3 id="几个有用的函数">几个有用的函数</h3>
<p>这些函数都返回集合，而不是 TCL list</p>
<ul>
<li>
<p>get</p>
</li>
<li>
<p><code>[get_ports string]</code> 返回所有匹配该字符串的 端口（ports）</p>
</li>
<li>
<p><code>[get_pins string]</code> 返回所有匹配的 引脚（pins）（包括 cell/macro 内部的）</p>
</li>
<li>
<p><code>[get_nets string]</code> 返回所有匹配的 线网（nets）</p>
</li>
<li>
<p>all</p>
</li>
<li>
<p><code>[all_inputs]</code> 返回该模块的所有主输入端口（primary inputs）</p>
</li>
<li>
<p><code>[all_outputs]</code> 返回该模块的所有主输出端口（primary outputs）</p>
</li>
<li>
<p><code>[all_registers]</code> 返回该模块中的所有寄存器（通常是 D 触发器）</p>
</li>
</ul>
<h3 id="时钟定义">时钟定义</h3>
<ul>
<li>为了设置 SDC 时序约束，我们必须定义一个时钟，这需要注意：
<ul>
<li>时钟来自哪里？（例如：输入端口、PLL 输出等）</li>
<li>时钟周期是多少？</li>
<li>时钟的占空比是多少？</li>
</ul>
</li>
</ul>
<p>通过 <code>create_clock -period 20 -name my_clock [get_ports clk]</code> 定义一个时钟。</p>
<p>我们可以定义多个时钟，但必须注意时钟域交叉。</p>
<p>在综合中，我们可以用这个命令假设时钟是理想的,STA 工具不会考虑时钟路径上的延迟</p>
<p><code>set_ideal_network [get_ports clk]</code></p>
<p>但为了更贴近真实的时序，我们应该给时钟添加上升/下降时间（ns）：</p>
<p><code>set_clock_transition 0.2 [get_clocks my_clock]</code></p>
<p>我们还可以加入时钟抖动（ns）</p>
<p><code>set_clock_uncertainty 0.2 [get_clocks my_clock]</code></p>
<p>最后，在完成时钟树综合（CTS）后，我们不再认为时钟是理想的，STA 工具会考虑实际时钟路径上的延迟和缓冲器，进行更精确的时序分析。</p>
<p><code>set_propagated_clock [get_clocks my_clock]</code></p>
<h3 id="i-o-限制">I/O 限制</h3>
<p>现在时钟已经定义完成，reg2reg 的路径也同时被限制，但是 in2reg, reg2out,in2out 的路径怎么办呢？</p>
<ul>
<li>这需要思考以下两个问题
<ul>
<li>哪个时钟在驱动 I/O 端口？</li>
<li>芯片外部延迟又该如何建模？</li>
</ul>
</li>
</ul>
<h4 id="通过时钟设置-io-延迟">通过时钟设置 IO 延迟</h4>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set_input_delay <span class="number">0.8</span> -<span class="keyword">clock</span> clk \</span><br><span class="line">  [remove_from_collection [all_inputs] [get_ports clk]]</span><br><span class="line"></span><br><span class="line">set_output_delay <span class="number">2.5</span> -<span class="keyword">clock</span> clk [all_outputs]</span><br></pre></td></tr></table></figure>
<p>这表明外部输入数据会在时钟边沿前 0.8ns 到达，内部数据必须在时钟边沿后 2.5ns 内传到输出端口，且排除时钟本身不作为输入信号处理。</p>
<p>更好的方法是使用虚拟时钟来定义环境模型，但是这里不介绍。</p>
<h4 id="物理方法定义">物理方法定义</h4>
<p>此外还有一种方式是定义最大 I/O 延迟</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">set_max_delay <span class="number">5</span> \</span><br><span class="line">  -from [remove_from_collection [all_inputs] [get_ports clk]]</span><br><span class="line"></span><br><span class="line">set_max_delay <span class="number">5</span> -to [all_outputs]</span><br></pre></td></tr></table></figure>
<p>此外，我们还必须为输入信号设置驱动特性</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set_driving_cell -cell [get_lib_cells MYLIB/INV4] -pin Z \</span><br><span class="line">  [remove_from_collection [all_inputs] [get_ports clk]]</span><br></pre></td></tr></table></figure>
<p>最后，还需要为输出信号设置负载电容（Load Capacitance）</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_load <span class="variable">$CIN_OF_INV</span> [all_outputs]</span><br></pre></td></tr></table></figure>
<p><code>$CIN_OF_INV</code> 是一个定义好的负载值（例如 INV 门的输入电容）,这种方式常用于门级网表后 STA 分析或没有完整 I/O 模型时。</p>
<p>我们可以用一张图总结目前学到的 io 延迟：</p>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gUxG.png" alt="O0gUxG.png"></p>
<h3 id="时序例外情况">时序例外情况</h3>
<p>某些路径不需要被正常分析和优化,这就叫时序例外（Timing Exceptions）</p>
<h4 id="路径不会同时起作用">路径不会同时起作用</h4>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gDlj.png" alt="O0gDlj.png"></p>
<p>如图所示这两条黄色路径不会同时起作用，因此我们要让 STA 避免考虑这两条路径的相互影响，这在 tcl 语言是这样定义的：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set_false_path -through [get_pins mux1/I0] -through [get_pins mux2/I0]</span><br><span class="line">set_false_path -through [get_pins mux1/I1] -through [get_pins mux2/I1]</span><br></pre></td></tr></table></figure>
<p>这些命令表示：STA 不需要检查这些通过特定输入的路径</p>
<h4 id="跨时钟域的数据传输">跨时钟域的数据传输</h4>
<p>数据从时钟 C1 域的寄存器 F1 传输到时钟 C2 域的寄存器 F2</p>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gLTp.png" alt="O0gLTp.png"></p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_false_path -from F1/CP -to F2/D</span><br></pre></td></tr></table></figure>
<p>或者使用时钟组工具，告诉 STA 这两个时钟互质</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set_clock_groups -logically_exclusive \</span><br><span class="line">  -group [get_clocks C1] -group [get_clocks C2]</span><br></pre></td></tr></table></figure>
<p>如果是“等相位”的慢时钟到快时钟的传输，如图所示：</p>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gEvU.png" alt="O0gEvU.png"></p>
<p>我们可以设置多周期路径：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set_multicycle_path -setup -from F1/CP -to F2/D <span class="number">2</span></span><br><span class="line">set_multicycle_path -hold  -from F1/CP -to F2/D <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="状态分析">状态分析</h4>
<p>在很多设计中，会有一些信号始终为某个常数值，例如设置某个寄存器以进入某种工作模式，在这种情况下，许多路径都是假路径：</p>
<ul>
<li>如果常数信号接在 MUX 选择线上，那么某些路径永远不会被选中</li>
<li>如果某个 AND 门输入是 0，那么输出始终为 0，另一路输入变化也没意义</li>
</ul>
<p>所以我们希望把这个常数传播到整个电路中,从而让 STA 工具忽略这些不相关的路径.</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_case_analysis <span class="number">0</span> [get_ports TEST_MODE]</span><br></pre></td></tr></table></figure>
<h3 id="设计违例规则">设计违例规则</h3>
<p>最大转换时间，最大电容负载，最大扇出数等。</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set_max_transition <span class="variable">$MAX_TRAN_IN_NS</span></span><br><span class="line">set_max_capacitance <span class="variable">$MAX_CAP_IN_PF</span></span><br><span class="line">set_max_fanout <span class="variable">$MAX_FANOUT</span></span><br></pre></td></tr></table></figure>
<h3 id="面向良率的高级静态时序分析">面向良率的高级静态时序分析</h3>
<p>高级STA内容会在课程后期讲解，你将会学习一些常见的概念和术语：</p>
<ul>
<li>On-Chip Variation (OCV)</li>
<li>Advanced On-Chip Variation (AOCV)</li>
<li>Signal Integrity (SI)</li>
<li>More and more and more</li>
</ul>
<h2 id="时序检查">时序检查</h2>
<p>之前已经知道最大延迟和最小延迟了，但是在实际中，我们还需要考虑以下内容：</p>
<ul>
<li>恢复（Recovery）</li>
<li>移除（Removal）</li>
<li>时钟门控（Clock Gating）</li>
<li>最小脉宽（Min Pulse Width）</li>
<li>数据到数据（Data-to-Data）</li>
</ul>
<h3 id="recovery-removal-and-mpw">Recovery, Removal and MPW</h3>
<p>恢复检查：异步控制输入端在去使能（deasserted）之后，到下一个时钟沿（有效沿）到来之前，必须保持稳定的最短时间。</p>
<p>移除检查：异步控制输入端在去使能（deasserted）之前，从上一个时钟沿（有效沿）之后开始，必须保持稳定的最短时间。</p>
<p>最小时钟脉宽（MPW）：从一个时钟上升沿或下降沿开始，时钟信号必须保持稳定的最短时间。</p>
<h3 id="时钟门控检查">时钟门控检查</h3>
<p>时钟门控是指在时钟路径上出现阻止时钟传播的信号，时钟门控的使能路径必须比时钟信号提前足够的时间到达，以确保无毛刺的功能（同时在时钟沿之后也要保持一段时间）。</p>
<h3 id="命令">命令</h3>
<p><code>report_analysis_coverage</code> 检查你是否已经完全约束了你的设计。</p>
<p><code>check_timing</code> 执行一系列时序约束的一致性与完整性检查，以确保设计中指定的约束是合理且完整的。</p>
<p>或许在任何综合或布局布线工具中，最重要的命令是 <code>report_timing</code>。</p>
<p>这一部分请通过 ppt 学习</p>
<h2 id="multi-mode-multi-corner">Multi Mode Multi Corner</h2>
<p>在综合期间，我们（通常）针对最坏情况进行时序目标设定，但是最坏情况是什么？</p>
<p>直观来看，那就是慢速角落（例如 SS 工艺，VDD -10%，125°C）</p>
<p>不需要进行保持时间（hold）检查，因为时钟是理想的。</p>
<p>但是还有其他工作模式怎么办？例如测试模式，我们是否需要在相同（高）时钟速度下完成时序收敛？</p>
<p>为了解决这个问题，只需要准备一个额外的 SDC 文件并重新运行 STA / 优化。</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置工作模式为测试模式</span></span><br><span class="line">set_case_analysis <span class="number">1</span> [get_ports TEST_MODE]</span><br><span class="line"><span class="comment"># 创建一个测试时钟，频率远低于功能时</span></span><br><span class="line">create_clock –period [<span class="keyword">expr</span> <span class="variable">$TCLK</span>/<span class="number">100</span>] –name TEST_CLK [get_ports TEST_CLK]</span><br></pre></td></tr></table></figure>
<p>但在真实设计中，情况只会更多，有多个工作模式和电压域，使用真实时钟时，还需要注意保持时间，很容易面对上百种 corner。</p>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gSOv.png" alt="O0gSOv.png"></p>
<h3 id="分析视图">分析视图</h3>
<p>为了简化设置，我们创立分析视图，为 setup 和 hold（即最大和最小）时序约束选择使用哪一个视图。</p>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gcLc.png" alt="O0gcLc.png"></p>
<p>一个分析视图是由一个延迟工况和约束模式构成的。</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">create_analysis_view -name turbo \</span><br><span class="line">    -constraint_mode turbo_mode -delay_corner slow_corner_vdd12</span><br><span class="line"></span><br><span class="line">create_analysis_view -name low_power \</span><br><span class="line">    -constraint_mode low_power_mode -delay_corner slow_corner_vdd05</span><br><span class="line"></span><br><span class="line">create_analysis_view -name turbo_hold \</span><br><span class="line">    -constraint_mode turbo_mode -delay_corner fast_corner_vdd13</span><br><span class="line"></span><br><span class="line">set_analysis_view -setup &#123;turbo low_power&#125; -hold &#123;turbo_hold&#125;</span><br></pre></td></tr></table></figure>
<p>延迟工况告诉工具该如何计算延迟，所以它包含了时序库和寄生参数提取规则。</p>
<p>约束模式本质上是对应某个特定工作模式下的 SDC 约束命令和条件集合。</p>
<h4 id="约束模式">约束模式</h4>
<p>一个约束模式就是一组相关的 SDC 文件，当你在多个分析视图之间切换时，STA 工具会自动将相关约束应用到设计中</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create_constraint_mode -name turbo_mode -sdc_files &#123;turbo.sdc&#125;</span><br><span class="line">create_constraint_mode -name low_power_mode -sdc_files &#123;low_power.sdc&#125;</span><br></pre></td></tr></table></figure>
<h4 id="延迟工况">延迟工况</h4>
<p>而延迟工况则要复杂一些，它由一个时序条件、一个 RC 工况以及其他一些我们现在不讨论的内容组成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create_delay_corner -name slow_corner_vdd12 \</span><br><span class="line">    -rc_corner &#123;RCmax&#125; -timing_condition &#123;ss_1p2V_125C&#125;</span><br><span class="line"></span><br><span class="line">create_delay_corner -name slow_corner_vdd05 \</span><br><span class="line">    -rc_corner &#123;RCmax&#125; -timing_condition &#123;ss_0p5V_125C&#125;</span><br><span class="line"></span><br><span class="line">create_delay_corner -name fast_corner_vdd13 \</span><br><span class="line">    -rc_corner &#123;RCmin&#125; -timing_condition &#123;ff_1p3V_m40C&#125;</span><br></pre></td></tr></table></figure>
<h4 id="时序条件和库集合">时序条件和库集合</h4>
<p>别急，我们还没完，一个时序条件是一组库集合，用于某个特定的电源域，我们要将时序条件和库集合关联起来。</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create_timing_condition -name tc_ss_1p2V_125C \</span><br><span class="line">                        -library_sets ss_1p2V_125C</span><br></pre></td></tr></table></figure>
<p>一个 库集合（library set） 是一些 .lib 表征文件的集合，这些文件会被用来对相关门电路进行时序建模。</p>
<p>这包括标准单元和其他宏单元，如 RAM 和 I/O。</p>
<p>有时还会包含用于噪声分析的 “SI” 表征数据。</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">create_library_set -name ss_1p2V_125C \</span><br><span class="line">    -timing [<span class="keyword">list</span> <span class="variable">$&#123;sc_libs&#125;</span>/ss_1p2V_125C.lib <span class="variable">$&#123;mem_libs&#125;</span>/ss_1p2V_125C.lib \</span><br><span class="line">                <span class="variable">$&#123;io_libs&#125;</span>/ss_1p8V_125.lib] \</span><br><span class="line">    -si <span class="variable">$&#123;sc_libs&#125;</span>/ss_1p2V_125C.si</span><br></pre></td></tr></table></figure>
<h4 id="rc-工况">RC 工况</h4>
<p>RC 工况是一组用于 RC 提取的规则集合，它可能包含一个用于快速提取的“电容表”，以及一个用于精确提取的 QRC 技术文件（techfile）。</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create_rc_corner -name RCmax -cap_table <span class="variable">$&#123;tech&#125;</span>/RCmax.CapTbl -T &#123;<span class="number">125</span>&#125; \</span><br><span class="line">                 -qx_tech_file <span class="variable">$&#123;tech&#125;</span>/RCmax.qrctech</span><br></pre></td></tr></table></figure>
<p><img src="https://ooo.0x0.ooo/2025/04/07/O0gVFM.png" alt="O0gVFM.png"></p>
<p>(完)</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">scmmm</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2025/04/06/Digital-VLSI-Design-lecture-5/">http://example.com/2025/04/06/Digital-VLSI-Design-lecture-5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/DVD/">DVD</a></div><div class="post_share"><div class="social-share" data-image="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/04/07/Digital-VLSI-Design-lecture-6/"><img class="prev-cover" src="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Digital VLSI Design-lecture 6</div></div></a></div><div class="next-post pull-right"><a href="/2025/04/05/Digital-VLSI-Design-lecture-4/"><img class="next-cover" src="https://s2.ax1x.com/2019/07/29/e3IUEt.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Digital VLSI Design-lecture 4</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2025/04/04/Digital-VLSI-Design-lecture-3/" title="Digital VLSI Design-lecture 3"><img class="cover" src="https://s2.ax1x.com/2019/08/02/edy1nH.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="title">Digital VLSI Design-lecture 3</div></div></a></div><div><a href="/2025/04/05/Digital-VLSI-Design-lecture-4/" title="Digital VLSI Design-lecture 4"><img class="cover" src="https://s2.ax1x.com/2019/07/29/e3IUEt.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-05</div><div class="title">Digital VLSI Design-lecture 4</div></div></a></div><div><a href="/2025/04/07/Digital-VLSI-Design-lecture-6/" title="Digital VLSI Design-lecture 6"><img class="cover" src="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-07</div><div class="title">Digital VLSI Design-lecture 6</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://s21.ax1x.com/2025/04/01/pEy34fO.md.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">scmmm</div><div class="author-info__description">欢迎神仙访问本蒟蒻博客</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">118</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">27</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/scmmm"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>Announcement</span></div><div class="announcement_content">欢迎神仙大驾光临本蒟蒻博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.</span> <span class="toc-text">同步设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.1.</span> <span class="toc-text">时序约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%9C%80%E5%A4%A7%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.2.</span> <span class="toc-text">建立最大约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E6%9C%80%E5%B0%8F%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.3.</span> <span class="toc-text">建立最小约束</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%97%B6%E5%BA%8F%E5%88%86%E6%9E%90-sta"><span class="toc-number">2.</span> <span class="toc-text">静态时序分析 STA</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E8%B7%AF%E5%BE%84"><span class="toc-number">2.1.</span> <span class="toc-text">时序路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%97%B6%E5%BA%8F%E5%88%86%E6%9E%90%E7%9A%84%E7%9B%AE%E6%A0%87"><span class="toc-number">2.2.</span> <span class="toc-text">静态时序分析的目标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%9F%BA%E6%9C%AC%E5%81%87%E8%AE%BE"><span class="toc-number">2.3.</span> <span class="toc-text">一些基本假设</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%B7%AF%E5%BE%84%E8%A1%A8%E7%A4%BA"><span class="toc-number">2.4.</span> <span class="toc-text">简单路径表示</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%81%87%E8%B7%AF%E5%BE%84"><span class="toc-number">2.5.</span> <span class="toc-text">假路径</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E9%99%90%E5%88%B6"><span class="toc-number">3.</span> <span class="toc-text">设计限制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E7%BA%A6%E6%9D%9F"><span class="toc-number">3.1.</span> <span class="toc-text">时序约束</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">3.2.</span> <span class="toc-text">集合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.3.</span> <span class="toc-text">设计对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%A0%E4%B8%AA%E6%9C%89%E7%94%A8%E7%9A%84%E5%87%BD%E6%95%B0"><span class="toc-number">3.4.</span> <span class="toc-text">几个有用的函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E5%AE%9A%E4%B9%89"><span class="toc-number">3.5.</span> <span class="toc-text">时钟定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#i-o-%E9%99%90%E5%88%B6"><span class="toc-number">3.6.</span> <span class="toc-text">I&#x2F;O 限制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%97%B6%E9%92%9F%E8%AE%BE%E7%BD%AE-io-%E5%BB%B6%E8%BF%9F"><span class="toc-number">3.6.1.</span> <span class="toc-text">通过时钟设置 IO 延迟</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%A9%E7%90%86%E6%96%B9%E6%B3%95%E5%AE%9A%E4%B9%89"><span class="toc-number">3.6.2.</span> <span class="toc-text">物理方法定义</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E4%BE%8B%E5%A4%96%E6%83%85%E5%86%B5"><span class="toc-number">3.7.</span> <span class="toc-text">时序例外情况</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E4%B8%8D%E4%BC%9A%E5%90%8C%E6%97%B6%E8%B5%B7%E4%BD%9C%E7%94%A8"><span class="toc-number">3.7.1.</span> <span class="toc-text">路径不会同时起作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%A8%E6%97%B6%E9%92%9F%E5%9F%9F%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93"><span class="toc-number">3.7.2.</span> <span class="toc-text">跨时钟域的数据传输</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E5%88%86%E6%9E%90"><span class="toc-number">3.7.3.</span> <span class="toc-text">状态分析</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E8%BF%9D%E4%BE%8B%E8%A7%84%E5%88%99"><span class="toc-number">3.8.</span> <span class="toc-text">设计违例规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E8%89%AF%E7%8E%87%E7%9A%84%E9%AB%98%E7%BA%A7%E9%9D%99%E6%80%81%E6%97%B6%E5%BA%8F%E5%88%86%E6%9E%90"><span class="toc-number">3.9.</span> <span class="toc-text">面向良率的高级静态时序分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E6%A3%80%E6%9F%A5"><span class="toc-number">4.</span> <span class="toc-text">时序检查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#recovery-removal-and-mpw"><span class="toc-number">4.1.</span> <span class="toc-text">Recovery, Removal and MPW</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E9%97%A8%E6%8E%A7%E6%A3%80%E6%9F%A5"><span class="toc-number">4.2.</span> <span class="toc-text">时钟门控检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">4.3.</span> <span class="toc-text">命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#multi-mode-multi-corner"><span class="toc-number">5.</span> <span class="toc-text">Multi Mode Multi Corner</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90%E8%A7%86%E5%9B%BE"><span class="toc-number">5.1.</span> <span class="toc-text">分析视图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.1.1.</span> <span class="toc-text">约束模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%B6%E8%BF%9F%E5%B7%A5%E5%86%B5"><span class="toc-number">5.1.2.</span> <span class="toc-text">延迟工况</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E6%9D%A1%E4%BB%B6%E5%92%8C%E5%BA%93%E9%9B%86%E5%90%88"><span class="toc-number">5.1.3.</span> <span class="toc-text">时序条件和库集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rc-%E5%B7%A5%E5%86%B5"><span class="toc-number">5.1.4.</span> <span class="toc-text">RC 工况</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/04/07/Digital-VLSI-Design-lecture-6/" title="Digital VLSI Design-lecture 6"><img src="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Digital VLSI Design-lecture 6"/></a><div class="content"><a class="title" href="/2025/04/07/Digital-VLSI-Design-lecture-6/" title="Digital VLSI Design-lecture 6">Digital VLSI Design-lecture 6</a><time datetime="2025-04-07T06:55:56.000Z" title="Created 2025-04-07 14:55:56">2025-04-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/06/Digital-VLSI-Design-lecture-5/" title="Digital VLSI Design-lecture 5"><img src="https://s2.ax1x.com/2019/07/29/e3IYDA.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Digital VLSI Design-lecture 5"/></a><div class="content"><a class="title" href="/2025/04/06/Digital-VLSI-Design-lecture-5/" title="Digital VLSI Design-lecture 5">Digital VLSI Design-lecture 5</a><time datetime="2025-04-06T12:42:19.000Z" title="Created 2025-04-06 20:42:19">2025-04-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/05/Digital-VLSI-Design-lecture-4/" title="Digital VLSI Design-lecture 4"><img src="https://s2.ax1x.com/2019/07/29/e3IUEt.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Digital VLSI Design-lecture 4"/></a><div class="content"><a class="title" href="/2025/04/05/Digital-VLSI-Design-lecture-4/" title="Digital VLSI Design-lecture 4">Digital VLSI Design-lecture 4</a><time datetime="2025-04-05T10:32:43.000Z" title="Created 2025-04-05 18:32:43">2025-04-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/04/Digital-VLSI-Design-lecture-3/" title="Digital VLSI Design-lecture 3"><img src="https://s2.ax1x.com/2019/08/02/edy1nH.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Digital VLSI Design-lecture 3"/></a><div class="content"><a class="title" href="/2025/04/04/Digital-VLSI-Design-lecture-3/" title="Digital VLSI Design-lecture 3">Digital VLSI Design-lecture 3</a><time datetime="2025-04-04T12:56:37.000Z" title="Created 2025-04-04 20:56:37">2025-04-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/04/Digital-VLSI-Design-lecture-2/" title="Digital VLSI Design-lecture 2"><img src="https://s2.ax1x.com/2019/07/29/e3Id4f.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Digital VLSI Design-lecture 2"/></a><div class="content"><a class="title" href="/2025/04/04/Digital-VLSI-Design-lecture-2/" title="Digital VLSI Design-lecture 2">Digital VLSI Design-lecture 2</a><time datetime="2025-04-04T12:56:33.000Z" title="Created 2025-04-04 20:56:33">2025-04-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By scmmm</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', '', 'katex-wrap')
  })
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>